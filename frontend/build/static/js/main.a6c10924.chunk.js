(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports=a(282)},117:function(e,t,a){},118:function(e,t,a){},282:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=(a(117),a(5)),i=a(6),s=a(8),u=a(7),m=a(9),d=a(295),p=a(107),h=(a(118),a(23)),E="http://192.168.43.218:8000",b=a(294),f=a(104),v=a.n(f),g=a(106),y=a.n(g),j=a(65),O=a.n(j),_=a(293),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.componentWillMount=function(){localStorage.token&&a.props.history.push("/dashboard/")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleClick",value:function(e){var t=this,a={username:this.state.username,password:this.state.password};console.log(a),fetch(E+"/api/auth/login/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()}).then(function(e){e.error?t.setState(Object(h.a)({},t.state,{error:!0})):(localStorage.setItem("token",e.token),localStorage.setItem("uid",e.id),"Startup Worker"===e.user?t.props.history.push("/dashboard/visitor/"):t.props.history.push("/staff/"),console.log(e))}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"text-center display-4"},"Welcome!!!"),r.a.createElement("div",{className:"text-danger"},this.state.error&&"Please check your credentials"),r.a.createElement(v.a,{title:"Login"}),r.a.createElement(O.a,{inputRef:function(t){return e.he=t},label:"Name",margin:"normal",hintText:"Enter your Username",floatingLabelText:"Username",value:this.state.value,onChange:function(t,a){e.setState({username:e.he.value})}}),r.a.createElement("br",null),r.a.createElement(O.a,{inputRef:function(t){return e.fv=t},label:"Password",margin:"normal",type:"password",hintText:"Enter your Password",floatingLabelText:"Password",value:this.state.value,onChange:function(t,a){e.setState({password:e.fv.value})}}),r.a.createElement("br",null),r.a.createElement("div",{className:"text-center mt-3"},r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(t){return e.handleClick(t)}},"Submit"))),r.a.createElement("div",{className:"text-center mt-3"},r.a.createElement("span",null,"New user? "),r.a.createElement(b.a,{to:"/signup/"},"Signup")))}}]),t}(n.Component),N=Object(_.a)(k),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:!1},a.componentDidMount=function(){a.username=document.querySelector("#username"),a.password=document.querySelector("#password"),a.email=document.querySelector("#email"),a.phone=document.querySelector("#phone"),a.user_type=document.querySelector("#user_type")},a.signup_handler=function(e){e.preventDefault();var t={username:a.username.value,password:a.password.value,phone:a.phone.value,email:a.email.value,user_type:a.user_type.value};console.log(t),fetch(E+"/api/auth/signup/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){console.log(e),e.error?a.setState(Object(h.a)({},a.state,{error:!0})):(localStorage.setItem("token",e.token),localStorage.setItem("uid",e.id),"Startup Worker"===e.user_type?a.props.history.push("/dashboard/visitor/"):a.props.history.push("/staff/"),console.log(localStorage.getItem("token")))}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"signup"},r.a.createElement("div",{className:"text-danger"},this.state.error&&"Please provide all the inputs!"),r.a.createElement("h3",{className:"text-center"},"Signup"),r.a.createElement("form",{className:"signup-form"},r.a.createElement("div",{class:"input-group mt-3"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("button",{disabled:!0,className:"btn btn-success"},r.a.createElement("i",{className:"fas fa-user"}))),r.a.createElement("input",{type:"text",class:"form-control",id:"username",placeholder:"Username"})),r.a.createElement("div",{class:"input-group mt-2"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("button",{disabled:!0,className:"btn btn-success"},r.a.createElement("i",{className:"fas fa-key"}))),r.a.createElement("input",{type:"password",class:"form-control",id:"password",placeholder:"Password"})),r.a.createElement("div",{class:"input-group mt-2"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("button",{disabled:!0,className:"btn btn-success"},r.a.createElement("i",{className:"fas fa-envelope"}))),r.a.createElement("input",{type:"email",class:"form-control",id:"email",placeholder:"Email"})),r.a.createElement("div",{class:"input-group mt-2"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("button",{disabled:!0,className:"btn btn-success"},r.a.createElement("i",{class:"fas fa-mobile"}))),r.a.createElement("input",{type:"text",class:"form-control",id:"phone",placeholder:"Phone"})),r.a.createElement("div",{className:"input-group mt-2"},r.a.createElement("select",{id:"user_type",className:"form-control"},r.a.createElement("option",{value:"Startup Worker"},"Startup Worker"),r.a.createElement("option",{value:"Receptionist"},"Receptionist"),r.a.createElement("option",{value:"Librarian"},"Librarian"),r.a.createElement("option",{value:"Startup"},"Startup"),r.a.createElement("option",{value:"Others"},"Others"))),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{onClick:this.signup_handler,className:"btn btn-primary mt-3"},"Signup"))),r.a.createElement("div",{className:"text-center mt-3"},r.a.createElement("span",null,"Already have and account ? "),r.a.createElement(b.a,{to:"/"},"Signup")))}}]),t}(n.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"auth row mx-0"},r.a.createElement("div",{className:"col-md-6 cover-pic",md:6}),r.a.createElement("div",{className:"col-md-6 form text-center",md:6},r.a.createElement(d.a,null,r.a.createElement(p.a,{path:"/signup/",component:w}),r.a.createElement(p.a,{path:"/",component:N})))))}}]),t}(n.Component),x=a(283),S=a(284),q=a(285),T=a(286),A=a(287),D=a(288),M=a(289),I=a(296),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log("making fetch request"),fetch(E+"/api/resources/list/",{method:"get",headers:{"Content-Type":"application/json",Authorization:"Token ad309027364a277e66eb3bf325e826dadf477704"}}).then(function(e){return e.json()}).then(function(t){console.log("fetching data"),e.setState({data:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){console.log(this.state.data);JSON.stringify(this.state.dat,null,4);return console.log(this.state.dat),r.a.createElement("div",{style:{}},r.a.createElement(x.a,null,r.a.createElement(S.a,null,r.a.createElement(q.a,{top:!0,width:"100%",src:"https://placeholdit.imgix.net/~text?txtsize=33&txt=256%C3%97180&w=256&h=180",alt:"Card image cap"}),r.a.createElement(T.a,null,r.a.createElement(A.a,null,"Card title"),r.a.createElement(D.a,null,"Card subtitle"),r.a.createElement(M.a,null,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),r.a.createElement(I.a,null,"Button"))),r.a.createElement(S.a,null,r.a.createElement(q.a,{top:!0,width:"100%",src:"https://placeholdit.imgix.net/~text?txtsize=33&txt=256%C3%97180&w=256&h=180",alt:"Card image cap"}),r.a.createElement(T.a,null,r.a.createElement(A.a,null,"Card title"),r.a.createElement(D.a,null,"Card subtitle"),r.a.createElement(M.a,null,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),r.a.createElement(I.a,null,"Button"))),r.a.createElement(S.a,null,r.a.createElement(q.a,{top:!0,width:"100%",src:"https://placeholdit.imgix.net/~text?txtsize=33&txt=256%C3%97180&w=256&h=180",alt:"Card image cap"}),r.a.createElement(T.a,null,r.a.createElement(A.a,null,"Card title"),r.a.createElement(D.a,null,"Card subtitle"),r.a.createElement(M.a,null,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),r.a.createElement(I.a,null,"Button"))),r.a.createElement(S.a,null,r.a.createElement(q.a,{top:!0,width:"100%",src:"https://placeholdit.imgix.net/~text?txtsize=33&txt=256%C3%97180&w=256&h=180",alt:"Card image cap"}),r.a.createElement(T.a,null,r.a.createElement(A.a,null,"Card title"),r.a.createElement(D.a,null,"Card subtitle"),r.a.createElement(M.a,null,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),r.a.createElement(I.a,null,"Button")))))}}]),t}(r.a.Component),L=a(49),R=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){localStorage.uid;return r.a.createElement(L.QRCode,{bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:256},value:this.props.qrvalue})}}]),t}(r.a.Component),P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={uid:""},a.componentDidMount=function(){var e=localStorage.uid;console.log(e),a.setState(Object(h.a)({},a.state,{uid:e}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"dashboard-qr-code"},r.a.createElement(R,{qrvalue:this.state.uid})))}}]),t}(n.Component),z=a(290),B=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(z.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"description"),r.a.createElement("th",null,"available"),r.a.createElement("th",null,"price"),r.a.createElement("th",null,"quanitity"))),r.a.createElement("tbody",null,[{id:2,name:"test",user:28,price:23,booked:!1,start_time:"2019-02-19T12:34:40.640458Z",end_time:"2019-02-24T12:34:40.640458Z",description:"dsf",instructions:"sfsd",img:"/media/item/161567264216546p_Olh9HVv.jpeg",authorised:!0,resource:1},{id:1,name:"ge",user:28,price:23,booked:!1,start_time:"2019-02-19T12:34:40.640458Z",end_time:"2019-02-24T12:34:40.640458Z",description:"dsf",instructions:"sfsd",img:"/media/item/161567264216546p_Olh9HVv.jpeg",authorised:!0,resource:1}].map(function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.booked),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.resource))})))}}]),t}(r.a.Component),W=a(291),H=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(z.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"description"),r.a.createElement("th",null,"available"),r.a.createElement("th",null,"price"),r.a.createElement("th",null,"quanitity"),r.a.createElement("th",null,"Book"))),r.a.createElement("tbody",null,[{id:2,name:"test",user:28,price:23,booked:!1,start_time:"2019-02-19T12:34:40.640458Z",end_time:"2019-02-24T12:34:40.640458Z",description:"dsf",instructions:"sfsd",img:"/media/item/161567264216546p_Olh9HVv.jpeg",authorised:!0,resource:1},{id:1,name:"ge",user:28,price:23,booked:!1,start_time:"2019-02-19T12:34:40.640458Z",end_time:"2019-02-24T12:34:40.640458Z",description:"dsf",instructions:"sfsd",img:"/media/item/161567264216546p_Olh9HVv.jpeg",authorised:!0,resource:1}].map(function(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.booked),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.resource),r.a.createElement("td",null,r.a.createElement(W.a,{type:"checkbox",id:e.id,label:""})))}))),r.a.createElement(I.a,{color:"primary"},"Submit Order")," ")}}]),t}(r.a.Component),J=a(40),Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).open=!1,a.componentDidMount=function(){a.nav_wrapper=document.querySelector(".nav-wrapper")},a.sign_out_handler=function(e){e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("uid"),a.props.history.push("/")},a.open_menubar_handler=function(e,t){console.log(a.nav_wrapper),t&&!a.open||(a.open?a.nav_wrapper.classList.remove("open-nav"):a.nav_wrapper.classList.add("open-nav"),a.open=!a.open)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"cnav"},r.a.createElement(b.a,{activeClassName:"font-weight-bold text-dark",onClick:function(e){return t.open_menubar_handler(e,!0)},to:"/dashboard/visitor/"},"Visitor"),r.a.createElement(b.a,{activeClassName:"font-weight-bold text-dark",onClick:function(e){return t.open_menubar_handler(e,!0)},to:"/dashboard/library/"},"Librarian"),r.a.createElement(b.a,{activeClassName:"font-weight-bold text-dark",onClick:function(e){return t.open_menubar_handler(e,!0)},to:"/dashboard/cafe/"},"Caffeteria"),r.a.createElement(b.a,(e={activeClassName:"font-weight-bold text-dark",onClick:function(e){return t.open_menubar_handler(e,!0)}},Object(J.a)(e,"onClick",this.sign_out_handler),Object(J.a)(e,"to","/staff/price/"),e),"Signout"),r.a.createElement("button",{onClick:this.open_menubar_handler,id:"mobile_menu_btn"},r.a.createElement("i",{className:"fa fa-2x fa-bars"}))))))}}]),t}(n.Component),U=Object(_.a)(Q),Z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={menu:[]},a.componentDidMount=function(){fetch(E+"/api/cafe/category/",{headers:{"Content-Type":"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e),e.forEach(function(e){e.items.forEach(function(e){e.amount=0})}),a.setState(Object(h.a)({},a.state,{menu:e}))}).catch(function(e){console.log(e)})},a.update_amount=function(e,t,n){var r=a.state.menu;r[e].items[t].amount<1&&n<0||(r[e].items[t].amount+=n,a.setState(Object(h.a)({},a.state,{menu:r})))},a.gmenu=function(e,t){var n=r.a.createElement("h2",{className:"mt-3"},e.name),l=e.items.map(function(e,n){return r.a.createElement("tr",null,r.a.createElement("td",null,n+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$ ",e.price),r.a.createElement("td",{className:"d-flex"},r.a.createElement("button",{onClick:function(){return a.update_amount(t,n,-1)},className:"btn  btn-sm btn-danger mx-3"},r.a.createElement("i",{className:"fas fa-minus"})),a.state.menu[t].items[n].amount,r.a.createElement("button",{onClick:function(){return a.update_amount(t,n,1)},className:"btn btn-sm btn-success mx-3"},r.a.createElement("i",{className:"fas fa-plus"}))))});return r.a.createElement("div",null,n,r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",null,"#"),r.a.createElement("td",null,"Name"),r.a.createElement("td",null,"Price"),r.a.createElement("td",null,"Amount"))),r.a.createElement("tbody",null,l)))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.menu.map(function(t,a){return e.gmenu(t,a)});return r.a.createElement("div",null,r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{onClick:function(){return e.props.history.push({pathname:"/dashboard/cafe/checkout/",state:e.state})},className:"btn btn-primary"},r.a.createElement("span",null,"Proceed to checkout"))),t)}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={orders:[]},a.componentDidMount=function(){fetch(E+"/api/cafe/history/",{headers:{"Content-Type":"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState(Object(h.a)({},a.state,{orders:e}))}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"History"),r.a.createElement("table",{className:"table table-stripped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Received"),r.a.createElement("th",null,"QR"))),r.a.createElement("tbody",null,this.state.orders.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.items.length),r.a.createElement("td",null,t.delivered?"True":"False"),r.a.createElement("td",null,t.delivered?"-":r.a.createElement("button",{onClick:function(){return e.props.history.push({pathname:"/qr/",state:{qr:t.id}})},className:"btn btn-primary"},"QRcode")))}))))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={menu:[],total:0},a.componentDidMount=function(){var e=[],t=a.props.location.state.menu,n=0;t.forEach(function(t){t.items.forEach(function(t){console.log(t),t.amount&&(e.push(t),n+=t.price)})}),a.setState(Object(h.a)({},a.state,{menu:e,total:n}))},a.place_order=function(){a.state.total<1&&a.props.history.goBack(),fetch(E+"/api/cafe/place_order/",{method:"post",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify({items:a.state.menu})}).then(function(e){return e.json()}).then(function(e){console.log(e),a.props.history.push("/dashboard/cafe/previous_orders/")}).catch(function(e){console.log(e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h4",null,"Total $ ",this.state.total," for ",this.state.menu.length," items:"),r.a.createElement("ol",null,this.state.menu.map(function(e){return r.a.createElement("li",{key:e.id},e.name,r.a.createElement("span",{className:"badge badge-primary mx-2 badge-pill"},e.amount))})),r.a.createElement("button",{onClick:this.place_order,className:"mx-3 btn btn-success"},"Submit"),r.a.createElement("button",{onClick:function(){return e.props.history.goBack()},className:"mx-3 btn btn-danger"},"Go back"))}}]),t}(n.Component),$="/dashboard/cafe/",K=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"mt-3"},r.a.createElement(b.a,{activeClassName:"badge-primary",className:"mx-3 badge badge-secondary",to:$},"Menu"),r.a.createElement(b.a,{activeClassName:"badge-primary",className:"mx-3 badge badge-secondary",to:$+"previous_orders/"},"Previous Orders")),r.a.createElement("div",{className:"mt-5"},r.a.createElement(d.a,null,r.a.createElement(p.a,{path:$+"previous_orders/",component:V}),r.a.createElement(p.a,{path:$+"checkout/",component:G}),r.a.createElement(p.a,{path:$,component:Z})))))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),console.log(e),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(U,null),r.a.createElement("div",{className:"frame"},r.a.createElement(d.a,null,r.a.createElement(p.a,{path:"/dashboard/visitor",component:P}),r.a.createElement(p.a,{path:"/dashboard/rental",component:F}),r.a.createElement(p.a,{path:"/dashboard/itemlist",component:B}),"qas",r.a.createElement(p.a,{path:"/dashboard/itembook",component:H}),r.a.createElement(p.a,{path:"/dashboard/cafe",component:K})))))}}]),t}(r.a.Component),Y=Object(_.a)(X),ee=a(30),te=a(111),ae=a.n(te),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={delay:300,result:"Not scanner yet"},a.handleScan=a.handleScan.bind(Object(ee.a)(Object(ee.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleScan",value:function(e){e&&this.setState({result:e}),this.props.handler_qr_data(e)}},{key:"handleError",value:function(e){console.error(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"qr-scanner"},r.a.createElement(ae.a,{delay:this.state.delay,onError:this.handleError,onScan:this.handleScan,style:{width:"100%"}}))}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={qrcode_active:!0,visitors:[]},a.handler_qr_data=function(e){e&&a.setState(Object(h.a)({},a.state,{qrcode_active:!1,uid:e}))},a.componentDidMount=function(){a.fetch_visitors()},a.fetch_visitors=function(){console.log("fetch"),fetch(E+"/api/visitors/list/",{headers:{"Content-Type":"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState(Object(h.a)({},a.state,{visitors:e}))}).catch(function(e){console.log(e)})},a.visit_handler=function(e){var t=localStorage.token;console.log(t),fetch(E+"/api/visitors/".concat(e,"/"),{method:"post",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify({vid:a.state.uid})}).then(function(e){return e.json()}).then(function(e){console.log(e),a.setState(Object(h.a)({},a.state,e,{time:Date(e.time).toString().slice(0,15),qrcode_active:!0}))}).catch(function(e){console.log(e)}),a.fetch_visitors()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"gaurd container"},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"gaurd_qr_scanner"},this.state.qrcode_active&&r.a.createElement(ne,{handler_qr_data:this.handler_qr_data})),!this.state.qrcode_active&&r.a.createElement("div",{className:"text-center mt-4"},r.a.createElement("button",{onClick:function(){return e.visit_handler("enter")},id:"gaurd_scan",className:"btn btn-dark mx-3"},"Enter"),r.a.createElement("button",{onClick:function(){return e.visit_handler("exit")},id:"gaurd_scan",className:" btn btn-dark mx-3"},"Exit"))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h3",{className:"text-center"},"Person details"),r.a.createElement("table",{className:"table table-striped mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Option"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"1"),r.a.createElement("td",null,"Enter/exit"),r.a.createElement("td",null,this.state.enter_r_exit)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"2"),r.a.createElement("td",null,"UserId"),r.a.createElement("td",null,this.state.visitor_id)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"3"),r.a.createElement("td",null,"Username"),r.a.createElement("td",null," ",this.state.visitor_name)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"4"),r.a.createElement("td",null,"Time"),r.a.createElement("td",null,this.state.time)))))),r.a.createElement("h3",{className:"text-center mt-5"},"History"),r.a.createElement("table",{className:"table table-striped mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Enter/Exit"),r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,this.state.visitors.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+2),r.a.createElement("td",null,e.enter_r_exit),r.a.createElement("td",null,e.visitor_id),r.a.createElement("td",null,e.visitor_name),r.a.createElement("td",null,Date(e.time).toString().slice(0,15)))}))))}}]),t}(n.Component),le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={qrcode_active:!0,visitors:[]},a.handler_qr_data=function(e){console.log(e),fetch(E+"/api/cafe/orderDelivery/",{method:"post",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify({oid:e})}).then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},a.componentDidMount=function(){a.fetch_menu()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"gaurd container"},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"gaurd_qr_scanner"},this.state.qrcode_active&&r.a.createElement(ne,{handler_qr_data:this.handler_qr_data}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h3",{className:"text-center"},"Person details"),r.a.createElement("table",{className:"table table-striped mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Option"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"1"),r.a.createElement("td",null,"Enter/exit"),r.a.createElement("td",null,this.state.enter_r_exit)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"2"),r.a.createElement("td",null,"UserId"),r.a.createElement("td",null,this.state.visitor_id)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"3"),r.a.createElement("td",null,"Username"),r.a.createElement("td",null," ",this.state.visitor_name)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"4"),r.a.createElement("td",null,"Time"),r.a.createElement("td",null,this.state.time)))))),r.a.createElement("h3",{className:"text-center mt-5"},"History"),r.a.createElement("table",{className:"table table-striped mt-3"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Enter/Exit"),r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,this.state.visitors.map(function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+2),r.a.createElement("td",null,e.enter_r_exit),r.a.createElement("td",null,e.visitor_id),r.a.createElement("td",null,e.visitor_name),r.a.createElement("td",null,Date(e.time).toString().slice(0,15)))}))))}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).open=!1,a.componentDidMount=function(){a.nav_wrapper=document.querySelector(".nav-wrapper")},a.sign_out_handler=function(e){e.preventDefault(),localStorage.removeItem("token"),localStorage.removeItem("uid"),a.props.history.push("/")},a.open_menubar_handler=function(e,t){console.log(a.nav_wrapper),t&&!a.open||(a.open?a.nav_wrapper.classList.remove("open-nav"):a.nav_wrapper.classList.add("open-nav"),a.open=!a.open)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"cnav"},r.a.createElement(b.a,{activeClassName:"font-weight-bold text-dark",onClick:function(t){return e.open_menubar_handler(t,!0)},className:"",to:"/staff/visitor/"},"Visitor"),r.a.createElement(b.a,{activeClassName:"font-weight-bold text-dark",onClick:function(t){return e.open_menubar_handler(t,!0)},className:"",to:"/staff/librarian/"},"Librarian"),r.a.createElement(b.a,{activeClassName:"font-weight-bold text-dark",onClick:function(t){return e.open_menubar_handler(t,!0)},className:"",to:"/staff/cafe/"},"Caffeteria"),r.a.createElement(b.a,{activeClassName:"font-weight-bold text-dark",onClick:this.sign_out_handler,to:"/staff/price/"},"Signout"),r.a.createElement("button",{onClick:this.open_menubar_handler,id:"mobile_menu_btn"},r.a.createElement("i",{className:"fa fa-2x fa-bars"}))))))}}]),t}(n.Component),oe=Object(_.a)(ce),ie=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(oe,null),r.a.createElement(d.a,null,r.a.createElement(p.a,{path:"/staff/caffeteria/",component:le}),r.a.createElement(p.a,{path:"/staff/visitor/",component:re}),r.a.createElement(p.a,{path:"/staff/",component:re})))}}]),t}(n.Component),se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={qr:""},a.componentDidMount=function(){a.qr=a.props.location.state.qr,console.log(a.qr),a.setState(Object(h.a)({},a.state,{qr:a.qr}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dashboard-qr-code"},r.a.createElement(L.QRCode,{bgColor:"#FFFFFF",fgColor:"#000000",level:"Q",style:{width:256},value:this.state.qr}),r.a.createElement("buttton",{onClick:function(){return e.props.history.goBack()},className:"mt-3 btn btn-primary"},"GoBack"))}}]),t}(n.Component),ue=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(p.a,{path:"/qr/",component:se}),r.a.createElement(p.a,{path:"/staff/",component:ie}),r.a.createElement(p.a,{path:"/dashboard/",component:Y}),r.a.createElement(p.a,{path:"/",component:C})),r.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.7.2/css/all.css",integrity:"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr",crossorigin:"anonymous"}),r.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossorigin:"anonymous"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(292);c.a.render(r.a.createElement(me.a,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[112,1,2]]]);
//# sourceMappingURL=main.a6c10924.chunk.js.map